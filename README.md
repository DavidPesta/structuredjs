**structured.js** is a Javascript library that provides a simple interface for verifying the structure of Javascript code, backed by the abstract syntax tree generated by Esprima. It is particularly useful in checking beginner code to provide feedback as part of [Khan Academy's CS curriculum](https://www.khanacademy.org/cs).

Structured.js works in-browser `<script src='structured.js'></script>`, or as a standalone npm module.

A structure is any valid Javascript code which contains blanks ( _ characters) and stand-ins ($str) to match values. The structure is sensitive to nesting and ordering. The matcher only requires that code contain the structure -- extra code has no effect.

### Demo

**[Try structured.js yourself](http://khan.github.io/structuredjs/index.html)** to see it in action.

Also check out the [pretty display demo](http://khan.github.io/structuredjs/pretty-display/index.html) for more user-friendly structures.

### Examples

    var structure = function structure() {
      if (_) {
        _ += _;
        for (var $a = _; $a < $b; $a += _) {
            _($a, $b, 30, 30);
        }
      }
    };

    var code = "/* some code */";

    var result = Structured.match(structure, code);

Returns true for the code:

    if (y > 30 && x > 13) {
       x += y;
       for (var i = 0; i < 100; i += 1) {
         rect(i, 100, 30, 30);
         bar();
       }
    }

**[Check out the demo](http://khan.github.io/structuredjs/index.html)** for more, or look at the tests.


### Tests

Run structured.js tests with `npm test` or by opening browser-test/index.html.

### Dependencies

[Esprima](http://esprima.org) and [UnderscoreJS](http://underscorejs.org) for the framework,
[QUnit](http://qunitjs.com/) for the test suite,
[RainbowJS](http://craig.is/making/rainbows/) for prettified structures.
