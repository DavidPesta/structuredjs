<!DOCTYPE html>

<html>
<head>
    <title>StructuredJS Demo</title>
    <link rel="stylesheet" href="demo/demo.css">
    <script src="external/jquery.min.js"></script>
    <script src="external/underscore.min.js"></script>
    <script src="external/esprima.js"></script>
    <script src="external/ace-orig.js" type="text/javascript" charset="utf-8"></script>
    <script src="external/ace-mode-javascript.js" type="text/javascript" charset="utf-8"></script>
    <script src="external/ace-worker-javascript.js" type="text/javascript" charset="utf-8"></script>
    <script src="structured.js"></script>
    <script src="demo/demo.js"></script>
</head>
<body>
  <div id="container">
    <div class="page-label">StructuredJS</div>
    <div class="summary">
      <p><strong>structured.js</strong> is a Javascript library that provides a simple interface for checking the structure of Javascript code, backed by the abstract syntax tree generated by Esprima. Structured.js works in-browser or as a standalone npm module. It is used particularly for checking beginner code to provide useful feedback as part of Khan Academy's CS curriculum.</p>

      <p>A structure is valid Javascript code that contains blanks ( _ characters), which must match a value. The structure is sensitive to nesting and ordering. The matcher only requires that code contains the structure -- extra code has no effect..</p>

      <p>Structures can contain any Javascript -- control structures (for, while, if, else, try, etc), function calls, variable declarations, parameters, numbers, strings, arrays, objects, and even operators are all fair game. Just use a _ character to indicate what can be filled by anything.</p>

      <p>Try it out!</p>
    </div>

    <div class="editor-labels">
      <span class="structure-label">Required structure</span>
      <span class="code-label">Code to check</span>
    </div>
    <div id="structure" class="code-editor">if (_) {
  _ += _;
  for (_; _; _) {
      rect(_, _, 30, 30);
      _();
      foo();
  }
}</div>
  <div id="test-code" class="code-editor">if (y > 30 && x > 13) {
   x += y;
   for (var i = 0; i < x; i += 1) {
     rect(i, 3, 30, 30);
     bar();
     x = i + 2;
     foo();
   }
}</div>
  <div id="remaining">
    <span class="gen-test"><small>generate qunit test</small></span>
      <button id="run-button">Check match</button>
      <div id="results">
          Code results outputted here.
      </div>

      <div class="test-wrapper">
          <pre class="test-code">
              QUnit test code generated here.
          </pre>
      </div>
  </div>
</div>
</body>
</html>